<?
/*
$materials = array(
		"lac_eco_130c" => array(
			"title"=> "Лаковый цв. Comfort", "hint" => "Лаковый цв. Comfort (АКЦИЯ!!!)", "width"=> 1.3,	"price"=> 3.5),
		"lac_std_c" => array(
			"title"=> "Лаковый цв. Optima (Германия)", "hint" => "Лаковый цв. Optima (Германия)", "width"=> array(1.5, 1.8),	"price"=> 5.0),
		"lac_eco_320c" => array(
			"title"=> "Лаковый цв. Comfort", "hint" => "Лаковый цв. Comfort", "width"=> array(2.0, 3.2),	"price"=> 5.0),
		"lac_eco_500c" => array(
			"title"=> "Лаковый цв. Comfort", "hint" => "Лаковый цв. Comfort", "width"=> array(4.0, 5.0),	"price"=> 7.2),
		"lac_ren_c" => array(
			"title"=> "Лаковый цв. Versal (Германия)", "hint" => "Лаковый цв. Versal (\"Renolit\", Германия)", "width" => array(1.5, 2.0), "price"=> 7.2),
		"lac_alc_c" => array(
			"title"=> "Лаковый цв. Versal (Франция)", "hint" => "Лаковый цв. Versal (\"Alkor Draka\", Франция)", "width"=> 1.5, "price"=> 7.2),

		"mat_eco_320c" => array(
			"title"=> "Матовый цв. Comfort", "hint" => "Матовый цв. Comfort", "width"=> array(2.0, 2.6, 3.2), "price"=> 5.0),
		"mat_eco_500c" => array(
			"title"=> "Матовый цв. Comfort", "hint" => "Матовый цв. Comfort", "width"=> array(4.0, 5.0), "price"=> 7.2),

		"sat_eco_320с" => array(
			"title"=> "Сатиновый цв. Comfort", "hint" => "Сатиновый цв. Comfort", "width"=> array(2.0, 2.6, 3.2), "price"=> 5.0),
		"sat_eco_500w" => array(
			"title"=> "Сатиновый бел. Comfort", "hint" => "Сатиновый бел. Comfort", "width"=> array(4.0, 5.0), "price"=> 7.2),

		"metal" => array(
			"title"=> "Металлик", "hint" => "Металлик", "width"=> 3.2, "price"=> 9.7),
		"pearl" => array(
			"title"=> "Перламутр", "hint" => "Перламутр", "width"=> 1.3, "price"=> 9.7),
		"texture" => array(
			"title"=> "Текстурные", "hint" => "Текстурные", "width"=> 3.2, "price"=> 9.7),
		"transp" => array(
			"title"=> "Полупрозрачная", "hint" => "Полупрозрачная", "width"=> array(3.2), "price"=> 8.3),
		"art" => array(
			"title"=> "Арт (Cosmos, Искра)", "hint" => "Арт (Cosmos, Искра)", "width"=> array(1.8, 3.2), "price"=> 9.7),
		"photo_water" => array(
			"title"=> "Вода/капли (заводские) лаковые", "hint" => "Вода/капли (заводские) лаковые", "width"=> 3.2, "price"=> 9.7),
		"photo_sky" => array(
			"title"=> "Облака (заводские) лаковые", "hint" => "Облака (заводские) лаковые", "width"=> array(1.5, 3.2), "price"=> 9.7),
		"photoprint" => array(
			"title"=> "Фотопечать (белый лак/мат)", "hint" => "Фотопечать (белый лак/мат)", "width"=> array(1.5, 3.2), "price"=> 22));
*/
$sel_mat  = "lac_eco_320c"; 	// выбранный в списке материалов по умолчанию
 $p_perim  = 2.0;				// периметр
 $p_corner = 3.0;				// угол
 $p_curve  = 8.0;				// кривая
 $p_vst    = 1.2;				// вставка белая
 $p_bvst   = 1.2;				// вставка черная
 $p_cvst   = 1.4;				// вставка цветная
 $p_cvst2  = 7.0;				// вставка цветная крашеная
 $p_cord   = 1.4;  				// шнур
 $p_lamp   = 2.5;				// люстра
 $p_spot   = 4.0;				// точечный светильник
 $p_pipe   = 4.0;				// труба
$k_center = 0.05;				// центровка
$k_comb   = 0.05;				// комбинирование
$k_zp     = 0.2;				// коэфициент зарплаты монтажников
$p_perehod = 6;					// Переход уровня прямолинейный
$p_perehod_c = 6.8;				// Переход уровня криволинейный
$min_zp	  = 10;                 // мин. зарплата монтажников 

$price_json = file_get_contents('inc/price.json');
if($price_json === false) {
	echo 'Ошибка чтения прайс-листа';
}
else {
	$price = json_decode($price_json, TRUE);
  	if($price==NULL) echo 'Ошибка разбора прайс-листа';
	else {
		$discounts = $price["discounts"];
		ksort($discounts);

		$films = $price["films"];
		$def_film = $films["default"];
		unset($films["default"]);

		$profiles = $price["profiles"];
		$def_profile = $profiles["default"];
		unset($profiles["default"]);

		$decors = $price["decors"];
		$def_decor = $decors["default"];
		unset($decors["default"]);

		$p_corner	= $price["corner"];
		$p_curve	= $price["curve"];
		$p_lamp		= $price["lamp"];
		$p_spot		= $price["spot"];
		$p_pipe		= $price["pipe"];
		$p_lcross_direct= $price["lcross_direct"];
		$p_lcross_curve	= $price["lcross_curve"];
		$p_inner_cut	= $price["inner_cut"];
		$p_curve_seam	= $price["curve_seam"];
		$min_salary	= $price["min_salary"];
		$k_salary	= $price["salary"];
		$k_center	= $price["center"];
		$k_combination	= $price["combination"];
		$p_zamer	= $price["zamer"];
		$p_transport	= $price["transport"];
	}
}
//var_dump($films);

require_once "price_func.inc";
//require_once "discount.inc";
?>